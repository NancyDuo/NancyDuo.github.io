<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>封装Axios --- Axios Module</title>
    <link href="/2021/10/10/%E5%B0%81%E8%A3%85axios/"/>
    <url>/2021/10/10/%E5%B0%81%E8%A3%85axios/</url>
    
    <content type="html"><![CDATA[<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>设置接口请求前缀：根据开发、测试、生产环境的不同，前缀需要加以区分<br>请求头 : 来实现一些具体的业务，必须携带一些参数才可以请求(例如：会员业务)<br>状态码: 根据接口返回的不同status ， 来执行不同的业务，这块需要和后端约定好<br>请求方法：根据get、post等方法进行一个再次封装，使用起来更为方便<br>请求拦截器: 根据请求的请求头设定，来决定哪些请求可以访问<br>响应拦截器： 这块就是根据 后端`返回来的状态码判定执行不同业务</p><h2 id="基本使用-Send-simple-Request"><a href="#基本使用-Send-simple-Request" class="headerlink" title="基本使用 Send simple Request"></a>基本使用 Send simple Request</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">import axios from &#39;axios&#39;axios(&#123;          url:&#39;xxx&#39;,    &#x2F;&#x2F; 设置请求的地址  method:&quot;GET&quot;, &#x2F;&#x2F; 设置请求方法  params:&#123;      &#x2F;&#x2F; get请求使用params进行参数凭借,如果是post请求用data    type: &#39;&#39;,    page: 1  &#125;&#125;).then(res &#x3D;&gt; &#123;    &#x2F;&#x2F; res为后端返回的数据  console.log(res);   &#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="并发请求-Concurrent-Requests"><a href="#并发请求-Concurrent-Requests" class="headerlink" title="并发请求 Concurrent Requests"></a>并发请求 Concurrent Requests</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">function getUserAccount() &#123;    return axios.get(&#39;&#x2F;user&#x2F;12345&#39;);&#125;function getUserPermissions() &#123;    return axios.get(&#39;&#x2F;user&#x2F;12345&#x2F;permissions&#39;);&#125;axios.all([getUserAccount(), getUserPermissions()])    .then(axios.spread(function (res1, res2) &#123;     &#x2F;&#x2F; res1第一个请求的返回的内容，res2第二个请求返回的内容    &#x2F;&#x2F; 两个请求都执行完成才会执行&#125;));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="设置接口请求前缀-Dev-or-Production"><a href="#设置接口请求前缀-Dev-or-Production" class="headerlink" title="设置接口请求前缀 Dev or Production"></a>设置接口请求前缀 Dev or Production</h2><p>利用node环境变量来作判断，用来区分开发、测试、生产环境</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">if (process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;development&#39;) &#123;  axios.defaults.baseURL &#x3D; &#39;http:&#x2F;&#x2F;dev.xxx.com&#39;&#125; else if (process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &#39;production&#39;) &#123;  axios.defaults.baseURL &#x3D; &#39;http:&#x2F;&#x2F;prod.xxx.com&#39;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>在本地调试的时候，还需要在vue.config.js文件中配置devServer实现代理转发，从而实现跨域</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">devServer: &#123;    proxy: &#123;      &#39;&#x2F;proxyApi&#39;: &#123;        target: &#39;http:&#x2F;&#x2F;dev.xxx.com&#39;,        changeOrigin: true,        pathRewrite: &#123;          &#39;&#x2F;proxyApi&#39;: &#39;&#39;        &#125;      &#125;    &#125;  &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="设置请求头与超时时间-Request-Header-Timeout"><a href="#设置请求头与超时时间-Request-Header-Timeout" class="headerlink" title="设置请求头与超时时间 Request Header / Timeout"></a>设置请求头与超时时间 Request Header / Timeout</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">const service &#x3D; axios.create(&#123;    ...    timeout: 30000,  &#x2F;&#x2F; 请求 30s 超时  headers: &#123;        get: &#123;          &#39;Content-Type&#39;: &#39;application&#x2F;x-www-form-urlencoded;charset&#x3D;utf-8&#39;          &#x2F;&#x2F; 在开发中，一般还需要单点登录或者其他功能的通用请求头，可以一并配置进来        &#125;,        post: &#123;          &#39;Content-Type&#39;: &#39;application&#x2F;json;charset&#x3D;utf-8&#39;          &#x2F;&#x2F; 在开发中，一般还需要单点登录或者其他功能的通用请求头，可以一并配置进来        &#125;  &#125;,&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; get 请求export function httpGet(&#123;  url,  params &#x3D; &#123;&#125;&#125;) &#123;  return new Promise((resolve, reject) &#x3D;&gt; &#123;    axios.get(url, &#123;      params    &#125;).then((res) &#x3D;&gt; &#123;      resolve(res.data)    &#125;).catch(err &#x3D;&gt; &#123;      reject(err)    &#125;)  &#125;)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; post请求export function httpPost(&#123;  url,  data &#x3D; &#123;&#125;,  params &#x3D; &#123;&#125;&#125;) &#123;  return new Promise((resolve, reject) &#x3D;&gt; &#123;    axios(&#123;      url,      method: &#39;post&#39;,      transformRequest: [function (data) &#123;        let ret &#x3D; &#39;&#39;        for (let it in data) &#123;          ret +&#x3D; encodeURIComponent(it) + &#39;&#x3D;&#39; + encodeURIComponent(data[it]) + &#39;&amp;&#39;        &#125;        return ret      &#125;],      &#x2F;&#x2F; 发送的数据      data,      &#x2F;&#x2F; url参数      params    &#125;).then(res &#x3D;&gt; &#123;      resolve(res.data)    &#125;)  &#125;)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="先引入封装好的方法，在要调用的接口重新封装成一个方法暴露出去-Export"><a href="#先引入封装好的方法，在要调用的接口重新封装成一个方法暴露出去-Export" class="headerlink" title="先引入封装好的方法，在要调用的接口重新封装成一个方法暴露出去 Export"></a>先引入封装好的方法，在要调用的接口重新封装成一个方法暴露出去 Export</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">import &#123; httpGet, httpPost &#125; from &#39;.&#x2F;http&#39;export const getorglist &#x3D; (params &#x3D; &#123;&#125;) &#x3D;&gt; httpGet(&#123; url: &#39;apps&#x2F;api&#x2F;org&#x2F;list&#39;, params &#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h2 id="调用-Use"><a href="#调用-Use" class="headerlink" title="调用 Use"></a>调用 Use</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; .vueimport &#123; getorglist &#125; from &#39;@&#x2F;assets&#x2F;js&#x2F;api&#39;getorglist(&#123; id: 200 &#125;).then(res &#x3D;&gt; &#123;  console.log(res)&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="请求拦截器-Request-Interceptor"><a href="#请求拦截器-Request-Interceptor" class="headerlink" title="请求拦截器 Request Interceptor"></a>请求拦截器 Request Interceptor</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; 请求拦截器axios.interceptors.request.use(  config &#x3D;&gt; &#123;    &#x2F;&#x2F; 每次发送请求之前判断是否存在token    &#x2F;&#x2F; 如果存在，则统一在http请求的header都加上token，这样后台根据token判断你的登录情况，此处token一般是用户完成登录后储存到localstorage里的    token &amp;&amp; (config.headers.Authorization &#x3D; token)    return config  &#125;,  error &#x3D;&gt; &#123;    return Promise.error(error)  &#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="响应拦截器-Reponse-Interceptor"><a href="#响应拦截器-Reponse-Interceptor" class="headerlink" title="响应拦截器 Reponse Interceptor"></a>响应拦截器 Reponse Interceptor</h2>  <div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">  &#x2F;&#x2F; 响应拦截器axios.interceptors.response.use(response &#x3D;&gt; &#123;  &#x2F;&#x2F; 如果返回的状态码为200，说明接口请求成功，可以正常拿到数据  &#x2F;&#x2F; 否则的话抛出错误  if (response.status &#x3D;&#x3D;&#x3D; 200) &#123;    if (response.data.code &#x3D;&#x3D;&#x3D; 511) &#123;      &#x2F;&#x2F; 未授权调取授权接口    &#125; else if (response.data.code &#x3D;&#x3D;&#x3D; 510) &#123;      &#x2F;&#x2F; 未登录跳转登录页    &#125; else &#123;      return Promise.resolve(response)    &#125;  &#125; else &#123;    return Promise.reject(response)  &#125;&#125;, error &#x3D;&gt; &#123;  &#x2F;&#x2F; 我们可以在这里对异常状态作统一处理  if (error.response.status) &#123;    &#x2F;&#x2F; 处理请求失败的情况    &#x2F;&#x2F; 对不同返回码对相应处理    return Promise.reject(error.response)  &#125;&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="例子：Use-Async-for-Readable"><a href="#例子：Use-Async-for-Readable" class="headerlink" title="例子：Use Async for Readable"></a>例子：Use Async for Readable</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">getParams() &#123;     return &#123;       role: this.role,       name: this.name,       status: this.status,       start: (this.PAGINATION.currentPage - 1) * this.PAGINATION.pageSize,       range: this.PAGINATION.pageSize,     &#125;   &#125;,   async getAdminList() &#123;     this.loading &#x3D; true     let res &#x3D; await getAdminList(this.queryParams)     this.tableData &#x3D; res.data.list     this.PAGINATION.total &#x3D; res.data.count     this.loading &#x3D; false   &#125;, async deleteAdmin() &#123;     try &#123;       let res &#x3D; await deleteAdmin(this.id)       this.$message(&#123;         type: &#39;success&#39;,         message: &#39;删除成功&#39;       &#125;)       this.getAdminList()     &#125; catch (err) &#123;       this.$message(&#123;         type: &#39;error&#39;,         message: err.msg       &#125;)     &#125;   &#125;,addParams() &#123;     let &#123; role, username, name, password, gender, profession, education, signature &#125; &#x3D; this.form     return &#123; role, username, name, password, gender, profession, education, signature &#125;   &#125;,async register() &#123;     try &#123;       let res &#x3D; await register(&#123; ...this.addParams() &#125;)       this.$message(&#123;         type: &#39;success&#39;,         message: &#39;添加成功&#39;       &#125;)       this.dialogFormVisible &#x3D; false       this.$emit(&#39;listen&#39;)     &#125; catch (err) &#123;       this.$message(&#123;         type: &#39;error&#39;,         message: err.msg       &#125;)     &#125;   &#125;,<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    
    <tags>
      
      <tag>Vue</tag>
      
      <tag>Axios</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>React知识点</title>
    <link href="/2021/10/01/React%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
    <url>/2021/10/01/React%E7%9F%A5%E8%AF%86%E7%82%B9/</url>
    
    <content type="html"><![CDATA[<h2 id="1-setState"><a href="#1-setState" class="headerlink" title="1. setState"></a>1. setState</h2><h3 id="setState更新状态的2种写法"><a href="#setState更新状态的2种写法" class="headerlink" title="setState更新状态的2种写法"></a>setState更新状态的2种写法</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">(1). setState(stateChange, [callback])------对象式的setState            1.stateChange为状态改变对象(该对象可以体现出状态的更改)            2.callback是可选的回调函数, 它在状态更新完毕、界面也更新后(render调用后)才被调用(2). setState(updater, [callback])------函数式的setState            1.updater为返回stateChange对象的函数。            2.updater可以接收到state和props。            4.callback是可选的回调函数, 它在状态更新、界面也更新后(render调用后)才被调用。总结:1.对象式的setState是函数式的setState的简写方式(语法糖)2.使用原则：(1).如果新状态不依赖于原状态 &#x3D;&#x3D;&#x3D;&gt; 使用对象方式(2).如果新状态依赖于原状态 &#x3D;&#x3D;&#x3D;&gt; 使用函数方式(3).如果需要在setState()执行后获取最新的状态数据, 要在第二个callback函数中读取<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><h2 id="2-lazyLoad"><a href="#2-lazyLoad" class="headerlink" title="2. lazyLoad"></a>2. lazyLoad</h2><h3 id="路由组件的lazyLoad"><a href="#路由组件的lazyLoad" class="headerlink" title="路由组件的lazyLoad"></a>路由组件的lazyLoad</h3><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//1.通过React的lazy函数配合import()函数动态加载路由组件 ===> 路由组件代码会被分开打包</span><span class="token keyword">const</span> Login <span class="token operator">=</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/pages/Login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//2.通过&lt;Suspense>指定在加载得到路由打包文件前显示一个自定义loading界面</span><span class="token operator">&lt;</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token operator">&lt;</span>h1<span class="token operator">></span>loading<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">&#125;</span><span class="token operator">></span>       <span class="token operator">&lt;</span>Switch<span class="token operator">></span>           <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">"/xxx"</span> component<span class="token operator">=</span><span class="token punctuation">&#123;</span>Xxxx<span class="token punctuation">&#125;</span><span class="token operator">/</span><span class="token operator">></span>           <span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">"/login"</span><span class="token operator">/</span><span class="token operator">></span>       <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">></span>   <span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><hr><h2 id="3-Hooks"><a href="#3-Hooks" class="headerlink" title="3. Hooks"></a>3. Hooks</h2><h4 id="1-React-Hook-Hooks是什么"><a href="#1-React-Hook-Hooks是什么" class="headerlink" title="1. React Hook/Hooks是什么?"></a>1. React Hook/Hooks是什么?</h4><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">(1). Hook是React 16.8.0版本增加的新特性&#x2F;新语法(2). 可以让你在函数组件中使用 state 以及其他的 React 特性<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h4 id="2-三个常用的Hook"><a href="#2-三个常用的Hook" class="headerlink" title="2. 三个常用的Hook"></a>2. 三个常用的Hook</h4><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">(1). State Hook: React.useState()(2). Effect Hook: React.useEffect()(3). Ref Hook: React.useRef()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h4 id="3-State-Hook"><a href="#3-State-Hook" class="headerlink" title="3. State Hook"></a>3. State Hook</h4><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">(1). State Hook让函数组件也可以有state状态, 并进行状态数据的读写操作(2). 语法: const [xxx, setXxx] &#x3D; React.useState(initValue)  (3). useState()说明:        参数: 第一次初始化指定的值在内部作缓存        返回值: 包含2个元素的数组, 第1个为内部当前状态值, 第2个为更新状态值的函数(4). setXxx()2种写法:        setXxx(newValue): 参数为非函数值, 直接指定新的状态值, 内部用其覆盖原来的状态值        setXxx(value &#x3D;&gt; newValue): 参数为函数, 接收原本的状态值, 返回新的状态值, 内部用其覆盖原来的状态值<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="4-Effect-Hook"><a href="#4-Effect-Hook" class="headerlink" title="4. Effect Hook"></a>4. Effect Hook</h4><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">(1). Effect Hook 可以让你在函数组件中执行副作用操作(用于模拟类组件中的生命周期钩子)(2). React中的副作用操作:        发ajax请求数据获取        设置订阅 &#x2F; 启动定时器        手动更改真实DOM(3). 语法和说明:         useEffect(() &#x3D;&gt; &#123;           &#x2F;&#x2F; 在此可以执行任何带副作用操作          return () &#x3D;&gt; &#123; &#x2F;&#x2F; 在组件卸载前执行            &#x2F;&#x2F; 在此做一些收尾工作, 比如清除定时器&#x2F;取消订阅等          &#125;        &#125;, [stateValue]) &#x2F;&#x2F; 如果指定的是[], 回调函数只会在第一次render()后执行    (4). 可以把 useEffect Hook 看做如下三个函数的组合        componentDidMount()        componentDidUpdate()    componentWillUnmount() <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h4 id="5-Ref-Hook"><a href="#5-Ref-Hook" class="headerlink" title="5. Ref Hook"></a>5. Ref Hook</h4><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">(1). Ref Hook可以在函数组件中存储&#x2F;查找组件内的标签或任意其它数据(2). 语法: const refContainer &#x3D; useRef()(3). 作用:保存标签对象,功能与React.createRef()一样<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><hr><h2 id="4-Fragment"><a href="#4-Fragment" class="headerlink" title="4. Fragment"></a>4. Fragment</h2><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;Fragment&gt;&lt;Fragment&gt;&lt;&gt;&lt;&#x2F;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></div><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><blockquote><p>可以不用必须有一个真实的DOM根标签了</p></blockquote><hr/><h2 id="5-Context"><a href="#5-Context" class="headerlink" title="5. Context"></a>5. Context</h2><h3 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h3><blockquote><p>一种组件间通信方式, 常用于【祖组件】与【后代组件】间通信</p></blockquote><h3 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h3><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">)</span> 创建Context容器对象：<span class="token keyword">const</span> XxxContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token number">2</span><span class="token punctuation">)</span> 渲染子组时，外面包裹xxxContext<span class="token punctuation">.</span>Provider<span class="token punctuation">,</span> 通过value属性给后代组件传递数据：<span class="token operator">&lt;</span>xxxContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">&#123;</span>数据<span class="token punctuation">&#125;</span><span class="token operator">></span>子组件    <span class="token operator">&lt;</span><span class="token operator">/</span>xxxContext<span class="token punctuation">.</span>Provider<span class="token operator">></span>    <span class="token number">3</span><span class="token punctuation">)</span> 后代组件读取数据：<span class="token comment">//第一种方式:仅适用于类组件 </span>  <span class="token keyword">static</span> contextType <span class="token operator">=</span> xxxContext  <span class="token comment">// 声明接收context</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token comment">// 读取context中的value数据</span>  <span class="token comment">//第二种方式: 函数组件与类组件都可以</span>  <span class="token operator">&lt;</span>xxxContext<span class="token punctuation">.</span>Consumer<span class="token operator">></span>    <span class="token punctuation">&#123;</span>      <span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">(</span> <span class="token comment">// value就是context中的value数据</span>        要显示的内容      <span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>xxxContext<span class="token punctuation">.</span>Consumer<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><div class="code-wrapper"><pre><code>在应用开发中一般不用context, 一般都用它的封装react插件</code></pre></div><hr/><h2 id="6-组件优化"><a href="#6-组件优化" class="headerlink" title="6. 组件优化"></a>6. 组件优化</h2><h3 id="Component的2个问题"><a href="#Component的2个问题" class="headerlink" title="Component的2个问题"></a>Component的2个问题</h3><blockquote><ol><li><p>只要执行setState(),即使不改变状态数据, 组件也会重新render() ==&gt; 效率低</p></li><li><p>只当前组件重新render(), 就会自动重新render子组件，纵使子组件没有用到父组件的任何数据 ==&gt; 效率低</p></li></ol></blockquote><h3 id="效率高的做法"><a href="#效率高的做法" class="headerlink" title="效率高的做法"></a>效率高的做法</h3><blockquote><p> 只有当组件的state或props数据发生改变时才重新render()</p></blockquote><h3 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h3><blockquote><p> Component中的shouldComponentUpdate()总是返回true</p></blockquote><h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><div class="code-wrapper"><pre><code>办法1:     重写shouldComponentUpdate()方法    比较新旧state或props数据, 如果有变化才返回true, 如果没有返回false办法2:      使用PureComponent    PureComponent重写了shouldComponentUpdate(), 只有state或props数据有变化才返回true    注意:         只是进行state和props数据的浅比较, 如果只是数据对象内部数据变了, 返回false          不要直接修改state数据, 而是要产生新数据项目中一般使用PureComponent来优化</code></pre></div><hr/><h2 id="7-render-props"><a href="#7-render-props" class="headerlink" title="7. render props"></a>7. render props</h2><h3 id="如何向组件内部动态传入带内容的结构-标签"><a href="#如何向组件内部动态传入带内容的结构-标签" class="headerlink" title="如何向组件内部动态传入带内容的结构(标签)?"></a>如何向组件内部动态传入带内容的结构(标签)?</h3><div class="code-wrapper"><pre><code>Vue中:     使用slot技术, 也就是通过组件标签体传入结构  &lt;A&gt;&lt;B/&gt;&lt;/A&gt;React中:    使用children props: 通过组件标签体传入结构    使用render props: 通过组件标签属性传入结构,而且可以携带数据，一般用render函数属性</code></pre></div><h3 id="children-props"><a href="#children-props" class="headerlink" title="children props"></a>children props</h3><div class="code-wrapper"><pre><code>&lt;A&gt;  &lt;B&gt;xxxx&lt;/B&gt;&lt;/A&gt;&#123;this.props.children&#125;问题: 如果B组件需要A组件内的数据, ==&gt; 做不到 </code></pre></div><h3 id="render-props"><a href="#render-props" class="headerlink" title="render props"></a>render props</h3><div class="code-wrapper"><pre><code>&lt;A render=&#123;(data) =&gt; &lt;C data=&#123;data&#125;&gt;&lt;/C&gt;&#125;&gt;&lt;/A&gt;A组件: &#123;this.props.render(内部state数据)&#125;C组件: 读取A组件传入的数据显示 &#123;this.props.data&#125; </code></pre></div><hr/><h2 id="8-错误边界"><a href="#8-错误边界" class="headerlink" title="8. 错误边界"></a>8. 错误边界</h2><h4 id="理解："><a href="#理解：" class="headerlink" title="理解："></a>理解：</h4><p>错误边界(Error boundary)：用来捕获后代组件错误，渲染出备用页面</p><h4 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h4><p>只能捕获后代组件生命周期产生的错误，不能捕获自己组件产生的错误和其他组件在合成事件、定时器中产生的错误</p><h5 id="使用方式："><a href="#使用方式：" class="headerlink" title="使用方式："></a>使用方式：</h5><p>getDerivedStateFromError配合componentDidCatch</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// 生命周期函数，一旦后台组件报错，就会触发</span><span class="token keyword">static</span> <span class="token function">getDerivedStateFromError</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 在render之前触发</span>    <span class="token comment">// 返回新的state</span>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>        hasError<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token function">componentDidCatch</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> info</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// 统计页面的错误。发送请求发送到后台去</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="9-组件通信方式总结"><a href="#9-组件通信方式总结" class="headerlink" title="9. 组件通信方式总结"></a>9. 组件通信方式总结</h2><h4 id="组件间的关系："><a href="#组件间的关系：" class="headerlink" title="组件间的关系："></a>组件间的关系：</h4><ul><li>父子组件</li><li>兄弟组件（非嵌套组件）</li><li>祖孙组件（跨级组件）</li></ul><h4 id="几种通信方式："><a href="#几种通信方式：" class="headerlink" title="几种通信方式："></a>几种通信方式：</h4><div class="code-wrapper"><pre><code>    1.props：        (1).children props        (2).render props    2.消息订阅-发布：        pubs-sub、event等等    3.集中式管理：        redux、dva等等    4.conText:        生产者-消费者模式</code></pre></div><h4 id="比较好的搭配方式："><a href="#比较好的搭配方式：" class="headerlink" title="比较好的搭配方式："></a>比较好的搭配方式：</h4><div class="code-wrapper"><pre><code>    父子组件：props    兄弟组件：消息订阅-发布、集中式管理    祖孙组件(跨级组件)：消息订阅-发布、集中式管理、conText(开发用的少，封装插件用的多)</code></pre></div>]]></content>
    
    
    <categories>
      
      <category>React</category>
      
    </categories>
    
    
    <tags>
      
      <tag>React</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>React脚手架配置代理总结 Proxy Setting in React For CORS</title>
    <link href="/2021/10/01/react%E8%84%9A%E6%89%8B%E6%9E%B6%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86/"/>
    <url>/2021/10/01/react%E8%84%9A%E6%89%8B%E6%9E%B6%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>在package.json中追加如下配置</p><div class="code-wrapper"><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"proxy"</span><span class="token operator">:</span><span class="token string">"http://localhost:5000"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div><p>说明：</p><ol><li>优点：配置简单，前端请求资源时可以不加任何前缀。</li><li>缺点：不能配置多个代理。</li><li>工作方式：上述方式配置代理，当请求了3000不存在的资源时，那么该请求会转发给5000 （优先匹配前端资源）</li></ol><h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><ol><li><p>第一步：创建代理配置文件</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">在src下创建配置文件：src&#x2F;setupProxy.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div></li><li><p>编写setupProxy.js配置具体代理规则：</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>    <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token string">'/api1'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//api1是需要转发的请求(所有带有/api1前缀的请求都会转发给5000)</span>      target<span class="token operator">:</span> <span class="token string">'http://localhost:5000'</span><span class="token punctuation">,</span> <span class="token comment">//配置转发目标地址(能返回数据的服务器地址)</span>      changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//控制服务器接收到的请求头中host字段的值</span>      <span class="token comment">/*      changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000      changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:3000      changeOrigin默认值为false，但我们一般将changeOrigin值设为true      */</span>      pathRewrite<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token string">'^/api1'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">&#125;</span> <span class="token comment">//去除请求前缀，保证交给后台服务器的是正常请求地址(必须配置)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">proxy</span><span class="token punctuation">(</span><span class="token string">'/api2'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>       target<span class="token operator">:</span> <span class="token string">'http://localhost:5001'</span><span class="token punctuation">,</span>      changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      pathRewrite<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token string">'^/api2'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>  <span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li></ol><p>说明：</p><ol><li>优点：可以配置多个代理，可以灵活的控制请求是否走代理。</li><li>缺点：配置繁琐，前端请求资源时必须加前缀。</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>React</tag>
      
      <tag>Proxy</tag>
      
      <tag>CORS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>组件通信 Transfer Data in Vue</title>
    <link href="/2021/09/27/transfer-data-vue/"/>
    <url>/2021/09/27/transfer-data-vue/</url>
    
    <content type="html"><![CDATA[<h2 id="1-props-emit"><a href="#1-props-emit" class="headerlink" title="1. props / $emit"></a>1. props / $emit</h2><p>The following is showing the parent component passing data to child.</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; parent&lt;template&gt;  &lt;div class&#x3D;&quot;section&quot;&gt;    &lt;com-article :articles&#x3D;&quot;articleList&quot;&gt;&lt;&#x2F;com-article&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;import comArticle from &#39;.&#x2F;test&#x2F;article.vue&#39;export default &#123;  name: &#39;HelloWorld&#39;,  components: &#123; comArticle &#125;,  data() &#123;    return &#123;      articleList: [&#39;Hong&#39;, &#39;Xi&#39;, &#39;San&#39;]    &#125;  &#125;&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; child&lt;template&gt;  &lt;div&gt;    &lt;span v-for&#x3D;&quot;(item, index) in articles&quot; :key&#x3D;&quot;index&quot;&gt;&#123;&#123;item&#125;&#125;&lt;&#x2F;span&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;export default &#123;  props: [&#39;articles&#39;]&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>Child component passes data to parent by $emit</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;parent&lt;template&gt;  &lt;div class&#x3D;&quot;section&quot;&gt;    &lt;com-article :articles&#x3D;&quot;articleList&quot; @onEmitIndex&#x3D;&quot;onEmitIndex&quot;&gt;&lt;&#x2F;com-article&gt;    &lt;p&gt;&#123;&#123;currentIndex&#125;&#125;&lt;&#x2F;p&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;import comArticle from &#39;.&#x2F;test&#x2F;article.vue&#39;export default &#123;  name: &#39;HelloWorld&#39;,  components: &#123; comArticle &#125;,  data() &#123;    return &#123;      currentIndex: -1,      articleList: [&#39;Hong&#39;, &#39;Xi&#39;, &#39;Three&#39;]    &#125;  &#125;,  methods: &#123;    onEmitIndex(idx) &#123;      this.currentIndex &#x3D; idx    &#125;  &#125;&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;child&lt;template&gt;  &lt;div&gt;    &lt;div v-for&#x3D;&quot;(item, index) in articles&quot; :key&#x3D;&quot;index&quot; @click&#x3D;&quot;emitIndex(index)&quot;&gt;&#123;&#123;item&#125;&#125;&lt;&#x2F;div&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;export default &#123;  props: [&#39;articles&#39;],  methods: &#123;    emitIndex(index) &#123;      this.$emit(&#39;onEmitIndex&#39;, index)    &#125;  &#125;&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="2-children-parent"><a href="#2-children-parent" class="headerlink" title="2. $children / $parent"></a>2. $children / $parent</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; parent&lt;template&gt;  &lt;div class&#x3D;&quot;hello_world&quot;&gt;    &lt;div&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;div&gt;    &lt;com-a&gt;&lt;&#x2F;com-a&gt;    &lt;button @click&#x3D;&quot;changeA&quot;&gt;change value&lt;&#x2F;button&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;import ComA from &#39;.&#x2F;test&#x2F;comA.vue&#39;export default &#123;  name: &#39;HelloWorld&#39;,  components: &#123; ComA &#125;,  data() &#123;    return &#123;      msg: &#39;Welcome&#39;    &#125;  &#125;,  methods: &#123;    changeA() &#123;      &#x2F;&#x2F; get data from child      this.$children[0].messageA &#x3D; &#39;this is new value&#39;    &#125;  &#125;&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;child&lt;template&gt;  &lt;div class&#x3D;&quot;com_a&quot;&gt;    &lt;span&gt;&#123;&#123;messageA&#125;&#125;&lt;&#x2F;span&gt;    &lt;p&gt;get parent value:  &#123;&#123;parentVal&#125;&#125;&lt;&#x2F;p&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;export default &#123;  data() &#123;    return &#123;      messageA: &#39;this is old&#39;    &#125;  &#125;,  computed:&#123;    parentVal()&#123;      &#x2F;&#x2F; parent data      return this.$parent.msg;    &#125;  &#125;&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="3-provide-inject"><a href="#3-provide-inject" class="headerlink" title="3. provide/inject"></a>3. provide/inject</h2><p>The following is showing: A has B, B has C</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; A.vue&lt;template&gt;  &lt;div&gt;&lt;comB&gt;&lt;&#x2F;comB&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;  import comB from &#39;..&#x2F;components&#x2F;test&#x2F;comB.vue&#39;  export default &#123;    name: &quot;A&quot;,    provide: &#123;      for: &quot;demo&quot;    &#125;,    components:&#123;      comB    &#125;  &#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; B.vue&lt;template&gt;  &lt;div&gt;    &#123;&#123;demo&#125;&#125;    &lt;comC&gt;&lt;&#x2F;comC&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;  import comC from &#39;..&#x2F;components&#x2F;test&#x2F;comC.vue&#39;  export default &#123;    name: &quot;B&quot;,    inject: [&#39;for&#39;],    data() &#123;      return &#123;        demo: this.for      &#125;    &#125;,    components: &#123;      comC    &#125;  &#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; C.vue&lt;template&gt;  &lt;div&gt;    &#123;&#123;demo&#125;&#125;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;  export default &#123;    name: &quot;C&quot;,    inject: [&#39;for&#39;],    data() &#123;      return &#123;        demo: this.for      &#125;    &#125;  &#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="4-ref-refs"><a href="#4-ref-refs" class="headerlink" title="4. ref / refs"></a>4. ref / refs</h2><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;child: A.vueexport default &#123;  data () &#123;    return &#123;      name: &#39;Vue.js&#39;    &#125;  &#125;,  methods: &#123;    sayHello () &#123;      console.log(&#39;hello&#39;)    &#125;  &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;parent: app.vue&lt;template&gt;  &lt;component-a ref&#x3D;&quot;comA&quot;&gt;&lt;&#x2F;component-a&gt;&lt;&#x2F;template&gt;&lt;script&gt;  export default &#123;    mounted () &#123;      const comA &#x3D; this.$refs.comA;      console.log(comA.name);  &#x2F;&#x2F; Vue.js      comA.sayHello();  &#x2F;&#x2F; hello    &#125;  &#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="5-eventBus"><a href="#5-eventBus" class="headerlink" title="5. eventBus"></a>5. eventBus</h2><p>create event-bus.js</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; event-bus.jsimport Vue from &#39;vue&#39;export const EventBus &#x3D; new Vue()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><p>we got 2 components</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;template&gt;  &lt;div&gt;    &lt;show-num-com&gt;&lt;&#x2F;show-num-com&gt;    &lt;addition-num-com&gt;&lt;&#x2F;addition-num-com&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;import showNumCom from &#39;.&#x2F;showNum.vue&#39;import additionNumCom from &#39;.&#x2F;additionNum.vue&#39;export default &#123;  components: &#123; showNumCom, additionNumCom &#125;&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><p>Additon.vue passes data to Show.vue</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; addition.vue&lt;template&gt;  &lt;div&gt;    &lt;button @click&#x3D;&quot;additionHandle&quot;&gt;+adder&lt;&#x2F;button&gt;      &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;import &#123;EventBus&#125; from &#39;.&#x2F;event-bus.js&#39;export default &#123;  data()&#123;    return&#123;      num:1    &#125;  &#125;,  methods:&#123;    additionHandle()&#123;      EventBus.$emit(&#39;addition&#39;, &#123;        num:this.num++      &#125;)    &#125;  &#125;&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; showNum.vue &lt;template&gt;  &lt;div&gt;total: &#123;&#123;count&#125;&#125;&lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;import &#123; EventBus &#125; from &#39;.&#x2F;event-bus.js&#39;export default &#123;  data() &#123;    return &#123;      count: 0    &#125;  &#125;,  mounted() &#123;    EventBus.$on(&#39;addition&#39;, param &#x3D;&gt; &#123;      this.count &#x3D; this.count + param.num;    &#125;)  &#125;&#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="6-Vuex"><a href="#6-Vuex" class="headerlink" title="6. Vuex"></a>6. Vuex</h2><ul><li>state: store data</li><li>getter: similiar with vue computed, using for filter or computed</li><li>mutations: doing calculation, not for asynchronous</li><li>actions: data filter, good for asynchronous<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; parent&lt;template&gt;  &lt;div id&#x3D;&quot;app&quot;&gt;    &lt;ChildA&#x2F;&gt;    &lt;ChildB&#x2F;&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;  import ChildA from &#39;.&#x2F;components&#x2F;ChildA&#39;   import ChildB from &#39;.&#x2F;components&#x2F;ChildB&#39;  export default &#123;    name: &#39;App&#39;,    components: &#123;ChildA, ChildB&#125;   &#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;childA&lt;template&gt;  &lt;div id&#x3D;&quot;childA&quot;&gt;    &lt;h1&gt;I am A&lt;&#x2F;h1&gt;    &lt;button @click&#x3D;&quot;transform&quot;&gt;send data to B&lt;&#x2F;button&gt;    &lt;p&gt;get data from B：&#123;&#123;BMessage&#125;&#125;&lt;&#x2F;p&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;  export default &#123;    data() &#123;      return &#123;        AMessage: &#39;Hello，B，I am A&#39;      &#125;    &#125;,    computed: &#123;      BMessage() &#123;        return this.$store.state.BMsg      &#125;    &#125;,    methods: &#123;      transform() &#123;        this.$store.commit(&#39;receiveAMsg&#39;, &#123;          AMsg: this.AMessage        &#125;)      &#125;    &#125;  &#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; childB&lt;template&gt;  &lt;div id&#x3D;&quot;childB&quot;&gt;    &lt;h1&gt;I am B&lt;&#x2F;h1&gt;    &lt;button @click&#x3D;&quot;transform&quot;&gt;send data to A&lt;&#x2F;button&gt;    &lt;p&gt;get data from A：&#123;&#123;AMessage&#125;&#125;&lt;&#x2F;p&gt;  &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;  export default &#123;    data() &#123;      return &#123;        BMessage: &#39;Hello，A，I am B&#39;      &#125;    &#125;,    computed: &#123;      AMessage() &#123;        return this.$store.state.AMsg      &#125;    &#125;,    methods: &#123;      transform() &#123;        this.$store.commit(&#39;receiveBMsg&#39;, &#123;          BMsg: this.BMessage        &#125;)      &#125;    &#125;  &#125;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; store.jsimport Vue from &#39;vue&#39;import Vuex from &#39;vuex&#39;Vue.use(Vuex)&#x2F;&#x2F; store dataconst state &#x3D; &#123;  AMsg: &#39;&#39;,  BMsg: &#39;&#39;&#125;const mutations &#x3D; &#123;  receiveAMsg(state, payload) &#123;    state.AMsg &#x3D; payload.AMsg  &#125;,  receiveBMsg(state, payload) &#123;    state.BMsg &#x3D; payload.BMsg  &#125;&#125;export default new Vuex.Store(&#123;  state,  mutations&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="四个map方法的使用"><a href="#四个map方法的使用" class="headerlink" title="四个map方法的使用"></a>四个map方法的使用</h3></li></ul><ol><li><p><strong>mapState方法：</strong>用于帮助我们映射<code>state</code>中的数据为计算属性</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js">computed<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//借助mapState生成计算属性：sum、school、subject（对象写法）</span>     <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>sum<span class="token operator">:</span><span class="token string">'sum'</span><span class="token punctuation">,</span>school<span class="token operator">:</span><span class="token string">'school'</span><span class="token punctuation">,</span>subject<span class="token operator">:</span><span class="token string">'subject'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>             <span class="token comment">//借助mapState生成计算属性：sum、school、subject（数组写法）</span>    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p><strong>mapGetters方法：</strong>用于帮助我们映射<code>getters</code>中的数据为计算属性</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js">computed<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//借助mapGetters生成计算属性：bigSum（对象写法）</span>    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>bigSum<span class="token operator">:</span><span class="token string">'bigSum'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token comment">//借助mapGetters生成计算属性：bigSum（数组写法）</span>    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p><strong>mapActions方法：</strong>用于帮助我们生成与<code>actions</code>对话的方法，即：包含<code>$store.dispatch(xxx)</code>的函数</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js">methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>    <span class="token comment">//靠mapActions生成：incrementOdd、incrementWait（对象形式）</span>    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>incrementOdd<span class="token operator">:</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span>incrementWait<span class="token operator">:</span><span class="token string">'jiaWait'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token comment">//靠mapActions生成：incrementOdd、incrementWait（数组形式）</span>    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span><span class="token string">'jiaWait'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p><strong>mapMutations方法：</strong>用于帮助我们生成与<code>mutations</code>对话的方法，即：包含<code>$store.commit(xxx)</code>的函数</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js">methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>    <span class="token comment">//靠mapActions生成：increment、decrement（对象形式）</span>    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>increment<span class="token operator">:</span><span class="token string">'JIA'</span><span class="token punctuation">,</span>decrement<span class="token operator">:</span><span class="token string">'JIAN'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token comment">//靠mapMutations生成：JIA、JIAN（对象形式）</span>    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'JIA'</span><span class="token punctuation">,</span><span class="token string">'JIAN'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li></ol><blockquote><p>备注：mapActions与mapMutations使用时，若需要传递参数需要：在模板中绑定事件时传递好参数，否则参数是事件对象。</p></blockquote><h3 id="模块化-命名空间"><a href="#模块化-命名空间" class="headerlink" title="模块化+命名空间"></a>模块化+命名空间</h3><ol><li><p>目的：让代码更好维护，让多种数据分类更加明确。</p></li><li><p>修改<code>store.js</code></p><div class="code-wrapper"><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> countAbout <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  namespaced<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//开启命名空间</span>  state<span class="token operator">:</span><span class="token punctuation">&#123;</span>x<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  mutations<span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  actions<span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  getters<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    <span class="token function">bigSum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token keyword">return</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span>    <span class="token punctuation">&#125;</span>  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> personAbout <span class="token operator">=</span> <span class="token punctuation">&#123;</span>  namespaced<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//开启命名空间</span>  state<span class="token operator">:</span><span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  mutations<span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  actions<span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>  modules<span class="token operator">:</span> <span class="token punctuation">&#123;</span>    countAbout<span class="token punctuation">,</span>    personAbout  <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p>开启命名空间后，组件中读取state数据：</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//方式一：自己直接读取</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>personAbout<span class="token punctuation">.</span>list<span class="token comment">//方式二：借助mapState读取：</span><span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p>开启命名空间后，组件中读取getters数据：</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//方式一：自己直接读取</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">[</span><span class="token string">'personAbout/firstPersonName'</span><span class="token punctuation">]</span><span class="token comment">//方式二：借助mapGetters读取：</span><span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p>开启命名空间后，组件中调用dispatch</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//方式一：自己直接dispatch</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'personAbout/addPersonWang'</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span><span class="token comment">//方式二：借助mapActions：</span><span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>incrementOdd<span class="token operator">:</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span>incrementWait<span class="token operator">:</span><span class="token string">'jiaWait'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></li><li><p>开启命名空间后，组件中调用commit</p><div class="code-wrapper"><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//方式一：自己直接commit</span><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'personAbout/ADD_PERSON'</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span><span class="token comment">//方式二：借助mapMutations：</span><span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>increment<span class="token operator">:</span><span class="token string">'JIA'</span><span class="token punctuation">,</span>decrement<span class="token operator">:</span><span class="token string">'JIAN'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div></li></ol><h2 id="7-localStorage-sessionStorage"><a href="#7-localStorage-sessionStorage" class="headerlink" title="7. localStorage/ sessionStorage"></a>7. localStorage/ sessionStorage</h2><p>we can read date by window.localStorage.getItem(key) and save data by window.localStorage.setItem(key,value). Remember to use JSON.parse() and JSON.stringify()</p><h2 id="8-slot"><a href="#8-slot" class="headerlink" title="8. slot"></a>8. slot</h2><ol><li>默认插槽：<div class="code-wrapper"><pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">父组件中：        &lt;Category&gt;           &lt;div&gt;html结构1&lt;&#x2F;div&gt;        &lt;&#x2F;Category&gt;子组件中：        &lt;template&gt;            &lt;div&gt;               &lt;!-- 定义插槽 --&gt;               &lt;slot&gt;插槽默认内容...&lt;&#x2F;slot&gt;            &lt;&#x2F;div&gt;        &lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li>具名插槽：<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">父组件中：        &lt;Category&gt;            &lt;template slot&#x3D;&quot;center&quot;&gt;              &lt;div&gt;html结构1&lt;&#x2F;div&gt;            &lt;&#x2F;template&gt;            &lt;template v-slot:footer&gt;               &lt;div&gt;html结构2&lt;&#x2F;div&gt;            &lt;&#x2F;template&gt;        &lt;&#x2F;Category&gt;子组件中：        &lt;template&gt;            &lt;div&gt;               &lt;!-- 定义插槽 --&gt;               &lt;slot name&#x3D;&quot;center&quot;&gt;插槽默认内容...&lt;&#x2F;slot&gt;               &lt;slot name&#x3D;&quot;footer&quot;&gt;插槽默认内容...&lt;&#x2F;slot&gt;            &lt;&#x2F;div&gt;        &lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li><li>作用域插槽：<span style="color:red">数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定。</span>（games数据在Category组件中，但使用数据所遍历出来的结构由App组件决定）<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">父组件中：&lt;Category&gt;&lt;template scope&#x3D;&quot;scopeData&quot;&gt;&lt;!-- 生成的是ul列表 --&gt;&lt;ul&gt;&lt;li v-for&#x3D;&quot;g in scopeData.games&quot; :key&#x3D;&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt;&lt;&#x2F;template&gt;&lt;&#x2F;Category&gt;         &lt;Category&gt;&lt;template slot-scope&#x3D;&quot;scopeData&quot;&gt;&lt;!-- 生成的是h4标题 --&gt;&lt;h4 v-for&#x3D;&quot;g in scopeData.games&quot; :key&#x3D;&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;&#x2F;h4&gt;&lt;&#x2F;template&gt;&lt;&#x2F;Category&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">子组件中：    &lt;template&gt;        &lt;div&gt;           &lt;slot :games&#x3D;&quot;games&quot;&gt;&lt;&#x2F;slot&gt;        &lt;&#x2F;div&gt;  &lt;&#x2F;template&gt;  &lt;script&gt;       export default &#123;           name:&#39;Category&#39;,                       props:[&#39;title&#39;],                      &#x2F;&#x2F;数据在子组件自身                         data() &#123;                          return &#123;                    games:[&#39;红色警戒                    线&#39;,&#39;劲舞团&#39;,&#39;超级玛丽&#39;]                            &#125;           &#125;,          &#125; &lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>Vue</tag>
      
      <tag>组件通信</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>视差滚动 --- Parallax Scrolling</title>
    <link href="/2021/09/07/%E8%A7%86%E5%B7%AE%E6%BB%9A%E5%8A%A8/"/>
    <url>/2021/09/07/%E8%A7%86%E5%B7%AE%E6%BB%9A%E5%8A%A8/</url>
    
    <content type="html"><![CDATA[<p>视差滚动（Parallax Scrolling）是指多层背景以不同的速度移动，形成立体的运动效果，带来非常出色的视觉体验.<br>使用css形式实现视觉差滚动效果的方式有：</p><h2 id="background-attachment"><a href="#background-attachment" class="headerlink" title="background-attachment"></a>background-attachment</h2><p>作用是设置背景图像是否固定或者随着页面的其余部分滚动.</p><ul><li>scroll：默认值，背景图像会随着页面其余部分的滚动而移动</li><li>fixed：当页面的其余部分滚动时，背景图像不会移动</li><li>inherit：继承父元素background-attachment属性的值<br>完成滚动视觉差就需要将background-attachment属性设置为fixed，让背景相对于视口固定。及时一个元素有滚动机制，背景也不会随着元素的内容而滚动<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">section &#123;    height: 100vh;&#125;.g-img &#123;    background-image: url(...);    background-attachment: fixed;    background-size: cover;    background-position: center center;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="transform-translate3D"><a href="#transform-translate3D" class="headerlink" title="transform:translate3D"></a>transform:translate3D</h2>transform: css3 属性，可以对元素进行变换(2d/3d)，包括平移 translate,旋转 rotate,缩放 scale,等等.<br>perspective: css3 属性，当元素涉及 3d 变换时，perspective 可以定义我们眼睛看到的 3d 立体效果，即空间感.</li></ul><p>原理如下：</p><ul><li>容器设置上 transform-style: preserve-3d 和 perspective: xpx，那么处于这个容器的子元素就将位于3D空间中</li><li>子元素设置不同的 transform: translateZ()，这个时候，不同元素在 3D Z轴方向距离屏幕（我们的眼睛）的距离也就不一样</li><li>滚动滚动条，由于子元素设置了不同的 transform: translateZ()，那么他们滚动的上下距离 translateY 相对屏幕（我们的眼睛），也是不一样的，这就达到了滚动视差的效果,<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;    html &#123;        overflow: hidden;        height: 100%    &#125;    body &#123;        &#x2F;* 视差元素的父级需要3D视角 *&#x2F;        perspective: 1px;        transform-style: preserve-3d;         height: 100%;        overflow-y: scroll;        overflow-x: hidden;    &#125;    #app&#123;        width: 100vw;        height:200vh;        background:skyblue;        padding-top:100px;    &#125;    .one&#123;        width:500px;        height:200px;        background:#409eff;        transform: translateZ(0px);        margin-bottom: 50px;    &#125;    .two&#123;        width:500px;        height:200px;        background:#67c23a;        transform: translateZ(-1px);        margin-bottom: 150px;    &#125;    .three&#123;        width:500px;        height:200px;        background:#e6a23c;        transform: translateZ(-2px);        margin-bottom: 150px;    &#125;&lt;&#x2F;style&gt;&lt;div id&#x3D;&quot;app&quot;&gt;    &lt;div class&#x3D;&quot;one&quot;&gt;one&lt;&#x2F;div&gt;    &lt;div class&#x3D;&quot;two&quot;&gt;two&lt;&#x2F;div&gt;    &lt;div class&#x3D;&quot;three&quot;&gt;three&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>CSS</tag>
      
      <tag>Layout</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>响应式布局 Resposive Web Design</title>
    <link href="/2021/08/27/responsive-layout/"/>
    <url>/2021/08/27/responsive-layout/</url>
    
    <content type="html"><![CDATA[<p>响应式网站设计（Responsive Web design）是一种网络页面设计布局，页面的设计与开发应当根据用户行为以及设备环境(系统平台、屏幕尺寸、屏幕定向等)进行相应的响应和调整</p><h2 id="Media-Query"><a href="#Media-Query" class="headerlink" title="Media Query"></a>Media Query</h2><p>Media query breakpoints are pixel values that a developer/designer can define in CSS. <span id="more"></span> When a responsive website reaches those pixel values, a transformation (such as the one detailed above) occurs so that the website offers an optimal user experience.</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;* Medium devices (landscape tablets, 768px and up) *&#x2F;@media only screen and (min-width: 768px) &#123;...&#125;&#x2F;* Large devices (laptops&#x2F;desktops, 992px and up) *&#x2F;@media only screen and (min-width: 992px) &#123;...&#125;&#x2F;* Extra large devices (large laptops and desktops, 1200px and up) *&#x2F;@media only screen and (min-width: 1200px) &#123;...&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="Use-percentage-rather-than-‘px’"><a href="#Use-percentage-rather-than-‘px’" class="headerlink" title="Use percentage rather than ‘px’"></a>Use percentage rather than ‘px’</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">@media screen and (max-width: 414px) &#123;    aside &#123;      float: none;      width: 100%;      height: 5%;      background-color: yellow;    &#125;    main &#123;      height: calc(100vh - 5%);      background-color: red;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Em-and-Rem"><a href="#Em-and-Rem" class="headerlink" title="Em and Rem"></a>Em and Rem</h2><p>The default font size in browsers is 16px, so 1em=16px，10px=0.625em。To make it easy, we defined Font-size=62.5% in css, then 12px=1.2em, 10px=1em. Thus, if you want to update the normal ‘px’,simply divided by 10 and adding ‘px’.</p><p>The diffrence between em and rem is: em is calculated according to parent node, while rem is according to root components, which is html. So, we normally set font-size firstly, then…</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">html &#123;    font-size: 10px;    &#125;div &#123;    font-size: 4rem; &#x2F;* 40px *&#x2F;    width: 30rem;  &#x2F;* 300px *&#x2F;    height: 30rem;    border: solid 1px black;&#125;p &#123;    font-size: 2rem; &#x2F;* 20px *&#x2F;    width: 15rem;    height: 15rem;    border: solid 1px red;&#125;span &#123;    font-size: 1.5rem;    width: 10rem;    height: 10rem;    border: solid 1px blue;    display: block;&#125; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Flex-Layout"><a href="#Flex-Layout" class="headerlink" title="Flex Layout"></a>Flex Layout</h2><p>flex box has always been used as one-dimention layout.</p><h3 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a>flex-direction</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">.box &#123;  flex-direction: row | row-reverse | column | column-reverse;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">.box&#123;  flex-wrap: nowrap | wrap | wrap-reverse;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a>flex-flow</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F; we can combine flex direction and wrape.box &#123;  flex-flow: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="justify-content-and-align-items"><a href="#justify-content-and-align-items" class="headerlink" title="justify-content and align-items"></a>justify-content and align-items</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">.box &#123;  align-items: flex-start | flex-end | center | baseline | stretch;&#125;.box &#123;  align-content: flex-start | flex-end | center | space-between | space-around | stretch;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a>align-content</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">.box &#123;  align-content: flex-start | flex-end | center | space-between | space-around | stretch;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3 id="order"><a href="#order" class="headerlink" title="order"></a>order</h3><p>set the order of box</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">.item &#123;  order: 1;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></div><h3 id="flex-grow-flex-shrink"><a href="#flex-grow-flex-shrink" class="headerlink" title="flex-grow/flex-shrink"></a>flex-grow/flex-shrink</h3><p>When there are more spaces, boxes will get bigger as defined. 0 is default.</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">.item1&#123;    &#x2F;&#x2F; item1 will get  more 1&#x2F;3    flex-grow: 1&#125;.item2&#123;    &#x2F;&#x2F; item2 will get more 2&#x2F;3    flex-grow: 2&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a>flex-basis</h3><p>It defines the original size before resizing.We can also use flex-grow, shrink, basis togather.</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">.item &#123;    &#x2F;&#x2F; grow or shrink equally  flex: 1 1 auto&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Grid"><a href="#Grid" class="headerlink" title="Grid"></a>Grid</h2><p>Grid is a good way for two-dimention layout. We can named every space and lines which is easier to manage.</p><h3 id="grid-template-columns-grid-template-rows"><a href="#grid-template-columns-grid-template-rows" class="headerlink" title="grid-template-columns/grid-template-rows"></a>grid-template-columns/grid-template-rows</h3><p>It has been divided to 3 * 4, we can set actual space ‘px’,percentage or auto for each.</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">.container &#123;    grid-template-columns: 80px auto 100px;    grid-template-rows: 25% 100px auto 60px;&#125;.container &#123;    grid-template-columns: [line1] 80px [line2] 100px [last-line];&#125;&#x2F;&#x2F; using repeat.container &#123;    grid-template-columns: repeat(3,10px)&#125;&#x2F;&#x2F; using fr, it means we divied to 3 equal parts.container &#123;    grid-template-columns: repeat(3,1fr)&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="grid-template-areas"><a href="#grid-template-areas" class="headerlink" title="grid-template-areas"></a>grid-template-areas</h3><p>we named different areas as following</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">.container &#123;    grid-template-columns: 1fr 1fr 1fr;    grid-template-rows: 1fr 1fr 1fr 1fr;    grid-template-areas:         &quot;a a a&quot;        &quot;b c c&quot;        &quot;b c c&quot;        &quot;d d d&quot;;&#125;&#x2F;&#x2F; for div.a &#123; grid-area: a; &#125;.b &#123; grid-area: b; &#125;.c &#123; grid-area: c; &#125;.d &#123; grid-area: d; &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="grid-column-gap和grid-row-gap"><a href="#grid-column-gap和grid-row-gap" class="headerlink" title="grid-column-gap和grid-row-gap"></a>grid-column-gap和grid-row-gap</h3><p>It defines the margin between item.</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">.container &#123;    grid-template-columns: 2fr 1fr;    grid-template-rows: 1fr 2fr;    grid-column-gap: 10px;    grid-row-gap: 15px;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="minmax"><a href="#minmax" class="headerlink" title="minmax"></a>minmax</h3><p>It is really useful when we want to do repositive design. The following means that minimum width is 150, equally divied other space. </p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">.container &#123;    display: grid;    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    
    <tags>
      
      <tag>CSS</tag>
      
      <tag>Layout</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>如何居中 --- Center Position</title>
    <link href="/2021/07/21/%E5%B1%85%E4%B8%AD-Center/"/>
    <url>/2021/07/21/%E5%B1%85%E4%B8%AD-Center/</url>
    
    <content type="html"><![CDATA[<h2 id="实现元素水平垂直居中的方式："><a href="#实现元素水平垂直居中的方式：" class="headerlink" title="实现元素水平垂直居中的方式："></a>实现元素水平垂直居中的方式：</h2><h3 id="利用定位-positon-margin-auto"><a href="#利用定位-positon-margin-auto" class="headerlink" title="利用定位 positon+margin:auto"></a>利用定位 positon+margin:auto</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;    .father&#123;        position: relative;    &#125;    .son&#123;        position: absolute;        top:0;        left:0;        right:0;        bottom:0;        margin:auto;    &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;father&quot;&gt;    &lt;div class&#x3D;&quot;son&quot;&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="利用定位-transform"><a href="#利用定位-transform" class="headerlink" title="利用定位+transform"></a>利用定位+transform</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;    .father &#123;        position: relative;    &#125;    .son &#123;        position: absolute;        top: 50%;        left: 50%;        transform: translate(-50%,-50%);    &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;father&quot;&gt;    &lt;div class&#x3D;&quot;son&quot;&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="table布局"><a href="#table布局" class="headerlink" title="table布局"></a>table布局</h3><p>设置父元素为display:table-cell，子元素设置 display: inline-block。利用vertical和text-align可以让所有的行内块级元素水平垂直居中</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;    .father &#123;        display: table-cell;        vertical-align: middle;        text-align: center;    &#125;    .son &#123;        display: inline-block;    &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;father&quot;&gt;    &lt;div class&#x3D;&quot;son&quot;&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="flex布局"><a href="#flex布局" class="headerlink" title="flex布局"></a>flex布局</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;    .father &#123;        display: flex;        justify-content: center;        align-items: center;    &#125;    .son &#123;        width: 100px;        height: 100px;    &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;father&quot;&gt;    &lt;div class&#x3D;&quot;son&quot;&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="grid布局"><a href="#grid布局" class="headerlink" title="grid布局"></a>grid布局</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;    .father &#123;            display: grid;            align-items:center;            justify-content: center;        &#125;        .son &#123;            width: 10px;            height: 10px;        &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;father&quot;&gt;    &lt;div class&#x3D;&quot;son&quot;&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="内联元素居中布局-inline-element"><a href="#内联元素居中布局-inline-element" class="headerlink" title="内联元素居中布局 inline-element"></a>内联元素居中布局 inline-element</h3><h4 id="水平居中-horizontal"><a href="#水平居中-horizontal" class="headerlink" title="水平居中 horizontal"></a>水平居中 horizontal</h4><ul><li>行内元素可设置：text-align: center</li><li>flex布局设置父元素：display: flex; justify-content: center<h4 id="垂直居中-vertical"><a href="#垂直居中-vertical" class="headerlink" title="垂直居中 vertical"></a>垂直居中 vertical</h4></li><li>单行文本父元素确认高度：height === line-height</li><li>多行文本父元素确认高度：disaply: table-cell; vertical-align: middle</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>CSS</tag>
      
      <tag>Layout</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Layout 常见布局</title>
    <link href="/2021/07/21/%E5%B8%B8%E8%A7%81%E5%B8%83%E5%B1%80-Layout/"/>
    <url>/2021/07/21/%E5%B8%B8%E8%A7%81%E5%B8%83%E5%B1%80-Layout/</url>
    
    <content type="html"><![CDATA[<h2 id="Two-Components"><a href="#Two-Components" class="headerlink" title="Two Components"></a>Two Components</h2><h3 id="By-float"><a href="#By-float" class="headerlink" title="By float"></a>By float</h3><p>双栏布局非常常见，往往是以一个定宽栏和一个自适应的栏并排展示存在 </p><ul><li>使用 float 左浮左边栏 set float on the left component</li><li>右边模块使用 margin-left 撑出内容块做内容展示 set margin-left on the right one</li><li>为父级元素添加BFC，防止下方元素飞到上方内容 add BFC on the container<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;    .box&#123;        overflow: hidden; 添加BFC    &#125;    .left &#123;        float: left;        width: 200px;        background-color: gray;        height: 400px;    &#125;    .right &#123;        margin-left: 210px;        background-color: lightgray;        height: 200px;    &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;box&quot;&gt;    &lt;div class&#x3D;&quot;left&quot;&gt;左边&lt;&#x2F;div&gt;    &lt;div class&#x3D;&quot;right&quot;&gt;右边&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="By-flex"><a href="#By-flex" class="headerlink" title="By flex"></a>By flex</h3>flex可以说是最好的方案了，代码少，使用简单,注意的是，flex容器的一个默认属性值:align-items: stretch;这个属性导致了列等高的效果。 为了让两个盒子高度自动，需要设置: align-items: flex-start;<br>It is easier to use ‘flex’. While, there is a default property ‘align-items: stretch’, we will need set ‘flex-start’ to avoid stretch.<div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;    .box&#123;        display: flex;    &#125;    .left &#123;        width: 100px;    &#125;    .right &#123;        flex: 1;    &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;box&quot;&gt;    &lt;div class&#x3D;&quot;left&quot;&gt;左边&lt;&#x2F;div&gt;    &lt;div class&#x3D;&quot;right&quot;&gt;右边&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h2 id="Three-Components"><a href="#Three-Components" class="headerlink" title="Three Components"></a>Three Components</h2></li></ul><h3 id="两边使用-float-或者-absolute，中间使用-margin。"><a href="#两边使用-float-或者-absolute，中间使用-margin。" class="headerlink" title="两边使用 float 或者 absolute，中间使用 margin。"></a>两边使用 float 或者 absolute，中间使用 margin。</h3><p>For the sides, we use float/absolute and use margin to control middle element.</p><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;    .wrap &#123;        background: #eee;        overflow: hidden; &lt;!-- 生成BFC，计算高度时考虑浮动的元素 --&gt;        padding: 20px;        height: 200px;    &#125;    .left &#123;        width: 200px;        height: 200px;        float: left;        background: coral;    &#125;    .right &#123;        width: 120px;        height: 200px;        float: right;        background: lightblue;    &#125;    .middle &#123;        margin-left: 220px;        height: 200px;        background: lightpink;        margin-right: 140px;    &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;wrap&quot;&gt;    &lt;div class&#x3D;&quot;left&quot;&gt;左侧&lt;&#x2F;div&gt;    &lt;div class&#x3D;&quot;right&quot;&gt;右侧&lt;&#x2F;div&gt;    &lt;div class&#x3D;&quot;middle&quot;&gt;中间&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="Display-table-实现"><a href="#Display-table-实现" class="headerlink" title="Display: table 实现"></a>Display: table 实现</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;  .container &#123;    height: 200px;    line-height: 200px;    text-align: center;    display: table;    table-layout: fixed;    width: 100%;  &#125;  .left,  .right,  .main &#123;    display: table-cell;  &#125;  .left,  .right &#123;    width: 100px;    background: green;  &#125;  .main &#123;    background: black;    color: white;    width: 100%;  &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;container&quot;&gt;  &lt;div class&#x3D;&quot;left&quot;&gt;左边固定宽度&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;main&quot;&gt;中间自适应&lt;&#x2F;div&gt;  &lt;div class&#x3D;&quot;right&quot;&gt;右边固定宽度&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="Flex实现"><a href="#Flex实现" class="headerlink" title="Flex实现"></a>Flex实现</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;    .wrap &#123;        display: flex;        justify-content: space-between;    &#125;    .left,    .right,    .middle &#123;        height: 100px;    &#125;    .left &#123;        width: 200px;        background: coral;    &#125;    .right &#123;        width: 120px;        background: lightblue;    &#125;    .middle &#123;        background: #555;        width: 100%;        margin: 0 20px;    &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;wrap&quot;&gt;    &lt;div class&#x3D;&quot;left&quot;&gt;左侧&lt;&#x2F;div&gt;    &lt;div class&#x3D;&quot;middle&quot;&gt;中间&lt;&#x2F;div&gt;    &lt;div class&#x3D;&quot;right&quot;&gt;右侧&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div><h3 id="Grid网格布局"><a href="#Grid网格布局" class="headerlink" title="Grid网格布局"></a>Grid网格布局</h3><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">&lt;style&gt;    .wrap &#123;        display: grid;        width: 100%;        grid-template-columns: 300px auto 300px;    &#125;    .left,    .right,    .middle &#123;        height: 100px;    &#125;    .left &#123;        background: coral;    &#125;    .right &#123;        width: 300px;        background: lightblue;    &#125;    .middle &#123;        background: #555;    &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;wrap&quot;&gt;    &lt;div class&#x3D;&quot;left&quot;&gt;左侧&lt;&#x2F;div&gt;    &lt;div class&#x3D;&quot;middle&quot;&gt;中间&lt;&#x2F;div&gt;    &lt;div class&#x3D;&quot;right&quot;&gt;右侧&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>]]></content>
    
    
    
    <tags>
      
      <tag>CSS</tag>
      
      <tag>Layout</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BFC</title>
    <link href="/2021/07/01/BFC/"/>
    <url>/2021/07/01/BFC/</url>
    
    <content type="html"><![CDATA[<h2 id="BFC（Block-Formatting-Context），即块级格式化上下文，它是页面中的一块渲染区域，并且有一套属于自己的渲染规则："><a href="#BFC（Block-Formatting-Context），即块级格式化上下文，它是页面中的一块渲染区域，并且有一套属于自己的渲染规则：" class="headerlink" title="BFC（Block Formatting Context），即块级格式化上下文，它是页面中的一块渲染区域，并且有一套属于自己的渲染规则："></a>BFC（Block Formatting Context），即块级格式化上下文，它是页面中的一块渲染区域，并且有一套属于自己的渲染规则：</h2><ul><li>内部的盒子会在垂直方向上一个接一个的放置</li><li>对于同一个BFC的俩个相邻的盒子的margin会发生重叠，与方向无关。</li><li>每个元素的左外边距与包含块的左边界相接触（从左到右），即使浮动元素也是如此</li><li>BFC的区域不会与float的元素区域重叠</li><li>计算BFC的高度时，浮动子元素也参与计算</li><li>BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素，反之亦然</li><li>BFC目的是形成一个相对于外界完全独立的空间，让内部的子元素不会影响到外部的元素</li></ul><h2 id="触发BFC的条件包含不限于："><a href="#触发BFC的条件包含不限于：" class="headerlink" title="触发BFC的条件包含不限于："></a>触发BFC的条件包含不限于：</h2><ul><li>根元素，即HTML元素</li><li>浮动元素：float值为left、right</li><li>overflow值不为 visible，为 auto、scroll、hidden</li><li>display的值为inline-block、inltable-cell、table-caption、table、inline-table、flex、inline-flex、grid、inline-grid</li><li>position的值为absolute或fixed</li></ul>]]></content>
    
    
    
    <tags>
      
      <tag>CSS</tag>
      
      <tag>Layout</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
